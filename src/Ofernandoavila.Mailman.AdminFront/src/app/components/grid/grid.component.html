<p-card>
    <p-table [value]="data()" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template #caption>
            <div class="w-100 flex justify-content-between align-items-center">
                <h3>{{ title }}</h3>
                <div class="flex gap-2 align-items-center">
                    <p-iconfield iconPosition="left" class="ml-auto">
                        <p-inputicon>
                            <i class="pi pi-search"></i>
                        </p-inputicon>
                        <input pInputText type="text" placeholder="Search" [(ngModel)]="search" />
                    </p-iconfield>
                    <p-iconfield iconPosition="left" class="">
                        <p-button (onClick)="onSearch()" label="Buscar" severity="contrast"/>
                    </p-iconfield>    
                </div>
            </div>
        </ng-template>

        <ng-template pTemplate="header" *ngIf="tableHeader">
            <ng-container *ngTemplateOutlet="tableHeader"></ng-container>
        </ng-template>

        <ng-template #body let-item *ngIf="tableRow">
            <ng-container *ngTemplateOutlet="tableRow; context: { $implicit: item }"></ng-container>
        </ng-template>
    </p-table>

    <div class="flex items-center justify-end">
        <p-paginator
            [rows]="perPage"
            [totalRecords]="totalRecords"
            (onPageChange)="changePage($event)"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="{first} - {last} of {totalRecords}"
            [showPageLinks]="false"
            [showFirstLastIcon]="false"
        ></p-paginator>
    </div>
</p-card>